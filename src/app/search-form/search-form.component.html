<div class="text-center">
   <mat-toolbar>
      <p class="title-center">
         <span class="text-success">Search-Book Application</span>
      </p>
   </mat-toolbar>
   <p class="text-info">Fill the required details to Search your Book!</p>

   <div class="centre">

      <div class="form-row">
         <label class="col-sm-2 col-form-label font-bold" style="color:white">Price: </label>
         <!-- <b class="col-sm-2 col-form-label">Price: </b> -->
         <input [(ngModel)]='book.price' /><br>
      </div>
      <div class="form-row">
         <label class="col-sm-2 col-form-label font-bold" style="color:white">Category: </label>
         <input [(ngModel)]='book.category' /><br>
      </div>
      <div class="form-row">
         <label class="col-sm-2 col-form-label font-bold" style="color:white">Author: </label>
         <input [(ngModel)]='book.author.name' /><br>
      </div>
      <div class="form-row">
         <label class="col-sm-2 col-form-label font-bold" style="color:white">Publisher: </label>
         <input [(ngModel)]='book.publisher' /><br>
      </div>

      <button class="btn btn-outline-success" type="submit"
         (click)='searchBook(book.category,book.author, book.price,book.publisher)' style="color:white">Search</button><br>

      <div class="text-warning font-bold"> Check the below Search Results:
         
         <ol class="text-success font-bold">
         <ng-container *ngFor='let book of books'>

            <li *ngIf="book.deleted !=true">
               
               {{book.title}},{{book.price}}, {{book.price}}, {{book.publisher}}, {{book.publishedDate | date}},
               {{book.contents}},{{book.imageURL}}, {{book.active}}, {{book.category}},{{book.author.name}},
               {{book.author.authorEmail}}

               
            </li>
         </ng-container>
         </ol>

         <!--Table Starts-->
         <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" style="width: 100%;">
        

            <!-- <ng-container *ngFor='let book of books'></ng-container> -->
            <ng-container matColumnDef="title" style="width: 100%;">
               <th mat-header-cell *matHeaderCellDef > Title </th>
               <td  mat-cell *matCellDef="let book">
                 <div *ngIf="book.deleted !=true"> {{book.title | uppercase}}  </div>
                </td>
            </ng-container>
           <!-- Symbol Column -->
             <ng-container matColumnDef="price">
               <th mat-header-cell *matHeaderCellDef> Price </th>
               <td mat-cell *matCellDef="let book"> 
                <div *ngIf="book.deleted !=true">  {{book.price}} </div>
                </td>
             </ng-container>
    
             <ng-container matColumnDef="publisher">
                <th mat-header-cell *matHeaderCellDef> Publisher </th>
                <td mat-cell *matCellDef="let book">
                  <div *ngIf="book.deleted !=true">  {{book.publisher}}</div>
                </td>
              </ng-container>
    
              <ng-container matColumnDef="publishedDate">
                <th mat-header-cell *matHeaderCellDef> published Date</th>
                <td mat-cell *matCellDef="let book">
                  <div *ngIf="book.deleted !=true"> {{book.publishedDate | date}}</div>
                    </td>
              </ng-container>
    
              <ng-container matColumnDef="contents">
                <th mat-header-cell *matHeaderCellDef> Contents </th>
                <td mat-cell *matCellDef="let book"> 
                  <div *ngIf="book.deleted !=true"> {{book.contents}}</div>
                   </td>
              </ng-container>
    
              <ng-container matColumnDef="imageURL">
                <th mat-header-cell *matHeaderCellDef> imageURL </th>
                <td mat-cell *matCellDef="let book"> 
                  <div *ngIf="book.deleted !=true"> {{book.imageURL}}</div>
                 </td>
              </ng-container>
    
              <ng-container matColumnDef="active">
                <th mat-header-cell *matHeaderCellDef> Active</th>
                <td mat-cell *matCellDef="let book"> 
                  <div *ngIf="book.deleted !=true"> {{book.active}}</div>
                  </td>
              </ng-container>
              <ng-container matColumnDef="category">
                <th mat-header-cell *matHeaderCellDef> Category </th>
                <td mat-cell *matCellDef="let book">
                  <div *ngIf="book.deleted !=true">{{book.category}}</div>
                </td>
              </ng-container>
              
              <ng-container matColumnDef="authorName">
                <th mat-header-cell *matHeaderCellDef> Author Name </th>
                <td mat-cell *matCellDef="let book"> 
                  <div *ngIf="book.deleted !=true">{{book.author.name}}</div>
                </td>
              </ng-container>
              
              <ng-container matColumnDef="authorEmail">
                <th mat-header-cell *matHeaderCellDef> Author Email </th>
                <td mat-cell *matCellDef="let book">
                  <div *ngIf="book.deleted !=true">{{book.author.authorEmail}} </div>
                   
                </td>
              </ng-container>
              <ng-container matColumnDef="age">
                <th mat-header-cell *matHeaderCellDef> Author Age </th>
                <td mat-cell *matCellDef="let book"> 
                  <div *ngIf="book.deleted !=true"> {{book.author.age}}
                    <!-- <button (click)='deleteBook(book.id)'>Delete</button> -->
                </div>
                 </td>
              </ng-container>
             
           
              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
             <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr> 
            
       </table>
         <!--Table Ends-->



      </div>
      <div class="alert alert-warning" *ngIf="isSearchBookFailed">
         Search book failed!<br />{{ errorMessage }}
      </div>

      <ng-container matColumnDef="noRecord">
         <td mat-footer-cell *matFooterCellDef>No records found.</td>
   </ng-container>

   </div>
</div>